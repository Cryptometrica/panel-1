var app={setup:function(){NProgress.configure({showSpinner:!1}),app.delay=Delay(),app.content=Content(app),app.content.setup(),app.modal=Modal(app),app.modal.setup(),new Context,new Search,$.ajaxPrefilter(function(a,t,e){t.type&&"post"==t.type.toLowerCase()&&(a.data=$.param($.extend(t.data,{csrf:$("body").attr("data-csrf")})))}),$(document).on("click","a",function(a){var t=$(this),e=t.attr("href");return t.is("[data-dropdown]")||e.match(/^#/)?!0:t.is("[data-modal]")?(app.modal.open(t.attr("href")),!1):t.is("[target]")?!0:(app.content.open(e),!1)}),$(document).on("keydown",function(a){switch(a.keyCode){case 83:case 13:return a.metaKey||a.ctrlKey?(app.hasModal()||app.content.form().trigger("submit"),!1):!0;case 27:return app.modal.close(),!1}}),$(document).dropdown()},hasModal:function(){return $(".modal-content").length>0},load:function(a,t,e){if(app.isLoading(!0),"modal"==t)var o={modal:!0};else var o=!1;$.ajax({url:a,method:"GET",headers:o}).done(function(t,o,n){app.isLoading(!1);var r=n.getResponseHeader("Panel-User");r&&"object"===$.type(t)||(window.location.href=a),document.title=t.title,$("body").attr("data-csrf",t.csrf);try{e(t)}catch(p){window.location.href=a}})},csrf:function(){return $("body").attr("data-csrf")},isLoading:function(a){a?app.delay.start("loader",function(){NProgress.start()},250):(app.delay.stop("loader"),NProgress.done())}};$(function(){app.setup()});